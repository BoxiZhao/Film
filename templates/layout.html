<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Learning Film Photography{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto+Mono:ital@0;1&family=Cormorant+Garamond:wght@700&display=swap" rel="stylesheet">
    <style>
        .logo, .landing-title {
            font-family: 'Cormorant Garamond', serif;
            font-weight: 700;
        }

        h1, h2, .module-title, .module-link, .main-nav a {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
        }
        
        .step-content, .main-content p, .module-nav, .main-nav, .image-caption,
        .sub-module-link {
            font-family: 'Roboto Mono', monospace;
        }

        .variable-param {
            font-family: 'Roboto Mono', monospace;
            font-style: italic;
        }

        /* All buttons and navigation elements */
        button, .btn, .nav-button, 
        .begin-button, .module-select-button,
        .next-button, .back-button,
        .welcome-button, #begin-btn,
        .btn-primary, .btn-secondary,
        .check-answer, .option-card .btn,
        .page-nav .btn {
            font-family: 'Cormorant Garamond', serif;
            font-weight: 700;
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
            integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
            crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="{{ url_for('static', filename='js/transitions.js') }}"></script>
</head>
<body>
    <div class="app-container">
        {% if module %}
        <aside class="sidebar">
            <h1 class="logo">Learning Film Photography</h1>

            <nav class="main-nav">
                <ul>
                    <li><a href="{{ url_for('landing') }}">Home</a></li>
                </ul>
            </nav>

            <nav class="module-nav">
                {% for m_id, m in lessons.items() %}
                    {% if module and module_id == m_id %}
                        <h2 class="module-title">{{ m.name }}</h2>
                        <ul>
                            {% for slug, title in module.pages %}
                                {% if not (module_id == 2 and page == 'quiz' and slug != 'quiz' and slug != 'welcome') %}
                                <li><a href="{{ url_for('module_page', module_id=m_id, page=slug) }}"
                                       class="sub-module-link {{ 'active' if slug == page else '' }}">{{ title }}</a></li>
                                {% endif %}
                            {% endfor %}
                        </ul>
                    {% else %}
                        <ul>
                            <li><a href="{{ url_for('module_root', module_id=m_id) }}" class="module-link">{{ m.name }}</a></li>
                        </ul>
                    {% endif %}
                {% endfor %}
            </nav>
        </aside>
        {% endif %}

        <main class="main-content {{ 'full-width' if not module else '' }}">
            {% block content %}{% endblock %}
        </main>
    </div>
    {% block scripts %}{% endblock %}
</body>
</html>
