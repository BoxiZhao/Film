{% extends "layout.html" %}

{% block content %}
<div class="container-fluid">
    <div class="row">

        <!-- NAV BAR STUFF -->
        <div class="col-3" id="nav-bar">
            <a href="/"><div id="return-menu"><img src="{{ url_for('static', filename='images/back.png') }}" style="width:6%; height:auto; margin-right:20px;">Return to main menu</div></a>
            <div id="module-title"><div id="module-num"><strong>2</strong></div><h3>How to develop film</h3></div>

            <div class="spacer" style="height:50px;"></div>

            <a href="/module2"><div class="menu-option">Welcome</div></a>
            <a href="/module2/load"><div class="menu-option">Load the film</div></a>
            <a href="/module2/development"><div class="menu-option">Development</div></a>
            <a href="/module2/wash"><div class="menu-option selected">Wash (Stopping)</div></a>
            <a href="/module2/fixing"><div class="menu-option">Fixing</div></a>
            <a href="/module2/dry"><div class="menu-option">Wash and Dry</div></a>
            <a href="/module2/quiz1"><div class="menu-option">Quiz</div></a>

            <div id="up-next">
                <div style="padding-left:20px;"><strong>PREVIOUS:</strong></div>
                <a href="/module1"><div id="next-module">How to use a film camera</div></a>
            </div>

        </div>

        <!-- ACTUAL CONTENT -->

        <div class="col-9 content" >
            <div>
                <h1><strong>Step 3: Wash (Stopping)</strong></h1>
                <p>&nbsp;</p>
            </div>

            <div style="display: flex; gap: 30px; align-items: flex-start;">
                <img src="{{ url_for('static', filename='images/wash.png') }}" style="max-width:40%">
                
                <!-- 添加配置显示区域 -->
                <div class="option-card" style="padding: 15px 20px; height: auto; min-height: auto; flex: 1;">
                    <h4 style="margin-bottom: 10px; font-size: 1.3rem;">Your Film Settings:</h4>
                    <div style="display: flex; flex-direction: column; gap: 8px;">
                        <p style="margin: 0;">Film: <strong id="selected-film">ILLFORD HP5</strong></p>
                        <p style="margin: 0;">ISO: <strong id="selected-iso">100</strong></p>
                        <p style="margin: 0;">Developer: <strong id="selected-developer">Rodinal</strong></p>
                    </div>
                </div>
            </div>
            
            <p>&nbsp;</p>
            <p>Empty the developer and fill the tank with fresh water. Agitate for 30 s then discard. Repeat twice. This stops further development.</p>
    
        </div>
    </div>
</div>

<button class="next-button" onclick="window.location.href='/module2/fixing'">
    <span class="btn-text">Next</span>
    <span class="btn-icon"><img src="{{ url_for('static', filename='images/next.png') }}" style="height:25px;"></span></button>

<button class="back-button" onclick="window.location.href='/module2/development'">
    <span class="btn-icon"><img src="{{ url_for('static', filename='images/back.png') }}" style="height:25px;"></span>
    <span class="btn-text">Back</span>
</button>

<script>
// 从localStorage获取保存的设置
document.addEventListener('DOMContentLoaded', function() {
    const film = localStorage.getItem('selectedFilm') || 'ILLFORD HP5';
    const iso = localStorage.getItem('selectedIso') || '100';
    const developer = localStorage.getItem('selectedDeveloper') || 'Rodinal';

    // 更新显示
    document.getElementById('selected-film').textContent = film;
    document.getElementById('selected-iso').textContent = iso;
    document.getElementById('selected-developer').textContent = developer;
});
</script>
{% endblock %}